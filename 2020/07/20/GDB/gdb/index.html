<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>gdb | Personal Blog Web</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="Invoke GDB" />
    
    <meta name="description" content="1. Invoking GDB1. specifying an executable programThe most usual way to start GDB is with one argument, specifying an executable program: 1&gt; gdb program  2. an executable program and a core fileY">
<meta property="og:type" content="article">
<meta property="og:title" content="gdb">
<meta property="og:url" content="http://yoursite.com/2020/07/20/GDB/gdb/index.html">
<meta property="og:site_name" content="Personal Blog Web">
<meta property="og:description" content="1. Invoking GDB1. specifying an executable programThe most usual way to start GDB is with one argument, specifying an executable program: 1&gt; gdb program  2. an executable program and a core fileY">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-07-20T15:20:14.000Z">
<meta property="article:modified_time" content="2022-02-13T15:53:00.551Z">
<meta property="article:author" content="YANG Tao">
<meta property="article:tag" content="Invoke GDB">
<meta name="twitter:card" content="summary">
    

    
        <link rel="alternate" href="/" title="Personal Blog Web" type="application/atom+xml" />
    

    
        <link rel="icon" href="../../../../../css/images/pexels-photo-693521.png" />
    

    
<link rel="stylesheet" href="../../../../libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="../../../../libs/titillium-web/styles.css">

    
<link rel="stylesheet" href="../../../../libs/source-code-pro/styles.css">


    
<link rel="stylesheet" href="../../../../css/style.css">


    
<script src="../../../../../libs/jquery/2.0.3/jquery.min.js"></script>

    
    
        
<link rel="stylesheet" href="../../../../libs/lightgallery/css/lightgallery.min.css">

    
    
        
<link rel="stylesheet" href="../../../../libs/justified-gallery/justifiedGallery.min.css">

    
    
    


<meta name="generator" content="Hexo 6.3.0"></head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="../../../../../index.html" class="logo"></a>
                    </h1>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="../../../../../index.html">Home</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="../../../../../categories/Cpp/">Cpp</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="../../../../../categories/GDB-Tool/">GDB Tool</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="../../../../../categories/Linux/">Linux</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="../../../../../categories/OTN/">OTN</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="../../../../../categories/Programming/">Programming</a></li></ul>
                                    
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="../../../../../about/index.html">About</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '../../../../../content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="../../../../../js/insight.js"></script>


</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="../../../../../categories/GDB-Tool/">GDB Tool</a>
    </h1>
</div>
                        <div class="main-body-content">
                            <article id="post-GDB/gdb" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        gdb
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="" class="article-date">
            <time datetime="2020-07-20T15:20:14.000Z" itemprop="datePublished">2020-07-20</time>
        </a>
    </div>

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link-link" href="../../../../../tags/Invoke-GDB/" rel="tag">Invoke GDB</a>
    </div>

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <!-- toc -->

<h2 id="1-Invoking-GDB"><a href="#1-Invoking-GDB" class="headerlink" title="1. Invoking GDB"></a>1. <a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/DeveloperTools/gdb/gdb/gdb_toc.html#TOC7">Invoking GDB</a></h2><h3 id="1-specifying-an-executable-program"><a href="#1-specifying-an-executable-program" class="headerlink" title="1. specifying an executable program"></a>1. specifying an executable program</h3><p>The most usual way to start GDB is with one argument, specifying an executable program:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; gdb program</span><br></pre></td></tr></table></figure>

<h3 id="2-an-executable-program-and-a-core-file"><a href="#2-an-executable-program-and-a-core-file" class="headerlink" title="2. an executable program and a core file"></a>2. an executable program and a core file</h3><p>You can also start with both an executable program and a core file specified:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; gdb program core</span><br><span class="line">&gt; gdb program -core/-c file</span><br></pre></td></tr></table></figure>

<h3 id="3-debug-a-running-process"><a href="#3-debug-a-running-process" class="headerlink" title="3. debug a running process"></a>3. debug a running process</h3><p>You can, instead, specify a process ID as a second argument, if you want to debug a running process:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; gdb program 1234</span><br><span class="line">#</span><br><span class="line">&gt; gdb program `pgrep process`</span><br><span class="line"></span><br><span class="line">&gt; gdb prgram -pid/-p `pgrep process`</span><br></pre></td></tr></table></figure>

<p>would attach GDB to process <code>1234</code> (unless you also have a file named &#96;&#96;1234’&#96;; GDB does check for a core file first).</p>
<p>Taking advantage of <strong>the second command-line argument</strong> requires a fairly complete operating system; when you use GDB as a remote debugger attached to a bare board, there may not be any notion of “process”, and there is often no way to get a core dump. GDB will warn you if it is unable to attach or to read core dumps.</p>
<h3 id="4-pass-any-arguments-after-the-executable-file"><a href="#4-pass-any-arguments-after-the-executable-file" class="headerlink" title="4. pass any arguments after the executable file"></a>4. pass any arguments after the executable file</h3><p>You can optionally have <code>gdb</code> pass any arguments after the executable file to the inferior using <code>--args</code>. This option stops option processing.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb --args gcc -O2 -c foo.c</span><br></pre></td></tr></table></figure>

<p>This will cause <code>gdb</code> to debug <code>gcc</code>, and to set <code>gcc</code>‘s command-line arguments to <code>-O2 -c foo.c</code>.</p>
<h2 id="Your-program’s-arguments"><a href="#Your-program’s-arguments" class="headerlink" title="Your program’s arguments"></a><a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/DeveloperTools/gdb/gdb/gdb_toc.html#TOC21">Your program’s arguments</a></h2><p>The arguments to your program can be specified by the arguments of the <code>run</code> command. They are passed to a shell, which expands wildcard characters and performs redirection of I&#x2F;O, and thence to your program. Your <code>SHELL</code> environment variable (if it exists) specifies what shell GDB uses. If you do not define <code>SHELL</code>, GDB uses the default shell (&#96;&#96;&#x2F;bin&#x2F;sh’&#96; on Unix).</p>
<p>On non-Unix systems, the program is usually invoked directly by GDB, which emulates I&#x2F;O redirection via the appropriate system calls, and the wildcard characters are expanded by the startup code of the program, not by the shell.</p>
<p><code>run</code> with no arguments uses the same arguments used by the previous <code>run</code>, or those set by the <code>set args</code> command.</p>
<ul>
<li><p><code>set args</code></p>
<p>Specify the arguments to be used the next time your program is run. If <code>set args</code> has no arguments, <code>run</code> executes your program with no arguments. Once you have run your program with arguments, using <code>set args</code> before the next <code>run</code> is the only way to run it again without arguments.</p>
</li>
<li><p><code>show args</code></p>
<p>Show the arguments to give your program when it is started.</p>
</li>
</ul>
<h2 id="Your-program’s-input-and-output"><a href="#Your-program’s-input-and-output" class="headerlink" title="Your program’s input and output"></a><a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/DeveloperTools/gdb/gdb/gdb_toc.html#TOC24">Your program’s input and output</a></h2><p>By default, the program you run under GDB does input and output to the same terminal that GDB uses. GDB switches the terminal to its own terminal modes to interact with you, but it records the terminal modes your program was using and switches back to them when you continue running your program.</p>
<ul>
<li><p><code>info terminal</code></p>
<p>Displays information recorded by GDB about the terminal modes your program is using.</p>
</li>
</ul>
<p>You can redirect your program’s input and&#x2F;or output using shell redirection with the <code>run</code> command. For example,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">run &gt; outfile</span><br></pre></td></tr></table></figure>

<p>starts your program, diverting its output to the file &#96;&#96;outfile’&#96;.</p>
<p>Another way to specify where your program should do input and output is with the <code>tty</code> command. This command accepts a file name as argument, and causes this file to be the default for future <code>run</code> commands. It also resets the controlling terminal for the child process, for future <code>run</code> commands. For example,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tty /dev/ttyb</span><br></pre></td></tr></table></figure>

<p>directs that processes started with subsequent <code>run</code> commands default to do input and output on the terminal &#96;&#96;&#x2F;dev&#x2F;ttyb’&#96; and have that as their controlling terminal.</p>
<p>An explicit redirection in <code>run</code> overrides the <code>tty</code> command’s effect on the input&#x2F;output device, but not its effect on the controlling terminal.</p>
<p>When you use the <code>tty</code> command or redirect input in the <code>run</code> command, only the input <em>for your program</em> is affected. The input for GDB still comes from your terminal. <code>tty</code> is an alias for <code>set inferior-tty</code>.</p>
<p>You can use the <code>show inferior-tty</code> command to tell GDB to display the name of the terminal that will be used for future runs of your program.</p>
<ul>
<li><p><code>set inferior-tty /dev/ttyb</code></p>
<p>Set the tty for the program being debugged to &#x2F;dev&#x2F;ttyb.</p>
</li>
<li><p><code>show inferior-tty</code></p>
<p>Show the current tty for the program being debugged.</p>
</li>
</ul>
<h2 id="Debugging-an-already-running-process"><a href="#Debugging-an-already-running-process" class="headerlink" title="Debugging an already-running process"></a><a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/DeveloperTools/gdb/gdb/gdb_toc.html#TOC25">Debugging an already-running process</a></h2><ul>
<li><p><code>attach process-id</code></p>
<p>This command attaches to a running process–one that was started outside GDB. (<code>info files</code> shows your active targets.) The command takes as argument a process ID. The usual way to find out the process-id of a Unix process is with the <code>ps</code> utility, or with the <code>jobs -l&#39; shell command. </code>attach&#96; does not repeat if you press RET a second time after executing the command.</p>
</li>
</ul>
<p>To use <code>attach</code>, your program must be running in an environment which supports processes; for example, <code>attach</code> does not work for programs on bare-board targets that lack an operating system. You must also have permission to send the process a signal.</p>
<p>When you use <code>attach</code>, the debugger finds the program running in the process first by looking in the current working directory, then (if the program is not found) by using the source file search path (see section <a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/DeveloperTools/gdb/gdb/gdb_8.html#SEC54">Specifying source directories</a>). You can also use the <code>file</code> command to load the program. See section <a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/DeveloperTools/gdb/gdb/gdb_16.html#SEC147">Commands to specify files</a>.</p>
<p>The first thing GDB does after arranging to debug the specified process is to stop it. You can examine and modify an attached process with all the GDB commands that are ordinarily available when you start processes with <code>run</code>. You can insert breakpoints; you can step and continue; you can modify storage. If you would rather the process continue running, you may use the <code>continue</code> command after attaching GDB to the process.</p>
<ul>
<li><p><code>detach</code></p>
<p>When you have finished debugging the attached process, you can use the <code>detach</code> command to release it from GDB control. Detaching the process continues its execution. After the <code>detach</code> command, that process and GDB become completely independent once more, and you are ready to <code>attach</code> another process or start one with <code>run</code>. <code>detach</code> does not repeat if you press RET again after executing the command.</p>
</li>
</ul>
<p>If you exit GDB or use the <code>run</code> command while you have an attached process, you kill that process. By default, GDB asks for confirmation if you try to do either of these things; you can control whether or not you need to confirm by using the <code>set confirm</code> command (see section <a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/DeveloperTools/gdb/gdb/gdb_20.html#SEC221">Optional warnings and messages</a>).</p>
<h2 id="Killing-the-child-process"><a href="#Killing-the-child-process" class="headerlink" title="Killing the child process"></a><a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/DeveloperTools/gdb/gdb/gdb_toc.html#TOC26">Killing the child process</a></h2><ul>
<li><p><code>kill</code></p>
<p>Kill the child process in which your program is running under GDB.</p>
</li>
</ul>
<p>This command is useful if you wish to debug a core dump instead of a running process. GDB ignores any core dump file while your program is running.</p>
<p>On some operating systems, a program cannot be executed outside GDB while you have breakpoints set on it inside GDB. You can use the <code>kill</code> command in this situation to permit running your program outside the debugger.</p>
<p>The <code>kill</code> command is also useful if you wish to recompile and relink your program, since on many systems it is impossible to modify an executable file while it is running in a process. In this case, when you next type <code>run</code>, GDB notices that the file has changed, and reads the symbol table again (while trying to preserve your current breakpoint settings).</p>
<h2 id="Debugging-programs-with-multiple-threads"><a href="#Debugging-programs-with-multiple-threads" class="headerlink" title="Debugging programs with multiple threads"></a><a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/DeveloperTools/gdb/gdb/gdb_toc.html#TOC27">Debugging programs with multiple threads</a></h2><p>In some operating systems, such as HP-UX and Solaris, a single program may have more than one <strong>thread</strong> of execution. The precise semantics of threads differ from one operating system to another, but in general the threads of a single program are akin to multiple processes–except that they share one address space (that is, they can all examine and modify the same variables). On the other hand, each thread has its own registers and execution stack, and perhaps private memory.</p>
<p>GDB provides these facilities for debugging multi-thread programs:</p>
<ul>
<li>automatic notification of new threads</li>
<li>&#96;thread threadno’, a command to switch among threads</li>
<li>&#96;info threads’, a command to inquire about existing threads</li>
<li>&#96;thread apply [threadno] [all] args’, a command to apply a command to a list of threads</li>
<li>thread-specific breakpoints</li>
</ul>
<blockquote>
<p><em>Warning:</em> These facilities are not yet available on every GDB configuration where the operating system supports threads. If your GDB does not support threads, these commands have no effect. For example, a system without thread support shows no output from <code>info threads&#39;, and always rejects the </code>thread&#96; command, like this:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(gdb) info threads</span><br><span class="line">(gdb) thread 1</span><br><span class="line">Thread ID 1 not known.  Use the &quot;info threads&quot; command to</span><br><span class="line">see the IDs of currently known threads.</span><br></pre></td></tr></table></figure>
</blockquote>
<p>The GDB thread debugging facility allows you to observe all threads while your program runs–but whenever GDB takes control, one thread in particular is always the focus of debugging. This thread is called the <strong>current thread</strong>. Debugging commands show program information from the perspective of the current thread.</p>
<p>Whenever GDB detects a new thread in your program, it displays the target system’s identification for the thread with a message in the form &#96;[New systag]’. systag is a thread identifier whose form varies depending on the particular system. For example, on LynxOS, you might see</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[New process 35 thread 27]</span><br></pre></td></tr></table></figure>

<p>when GDB notices a new thread. In contrast, on an SGI system, the systag is simply something like &#96;process 368’, with no further qualifier.</p>
<p>For debugging purposes, GDB associates its own thread number–always a single integer–with each thread in your program.</p>
<ul>
<li><p><code>info threads</code></p>
<p>Display a summary of all threads currently in your program. GDB displays for each thread (in this order):the thread number assigned by GDBthe target system’s thread identifier (systag)the current stack frame summary for that threadAn asterisk &#96;*’ to the left of the GDB thread number indicates the current thread. For example,</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(gdb) info threads</span><br><span class="line">  3 process 35 thread 27  0x34e5 in sigpause ()</span><br><span class="line">  2 process 35 thread 23  0x34e5 in sigpause ()</span><br><span class="line">* 1 process 35 thread 13  main (argc=1, argv=0x7ffffff8)</span><br><span class="line">    at threadtest.c:68</span><br></pre></td></tr></table></figure>

<p>On HP-UX systems:</p>
<p>For debugging purposes, GDB associates its own thread number–a small integer assigned in thread-creation order–with each thread in your program.</p>
<p>Whenever GDB detects a new thread in your program, it displays both GDB’s thread number and the target system’s identification for the thread with a message in the form &#96;[New systag]’. systag is a thread identifier whose form varies depending on the particular system. For example, on HP-UX, you see</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[New thread 2 (system thread 26594)]</span><br></pre></td></tr></table></figure>

<p>when GDB notices a new thread.</p>
<ul>
<li><p><code>info threads</code></p>
<p>Display a summary of all threads currently in your program. GDB displays for each thread (in this order):the thread number assigned by GDBthe target system’s thread identifier (systag)the current stack frame summary for that threadAn asterisk &#96;*’ to the left of the GDB thread number indicates the current thread. For example,</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(gdb) info threads</span><br><span class="line">    * 3 system thread 26607  worker (wptr=0x7b09c318 &quot;@&quot;) \</span><br><span class="line">                               at quicksort.c:137</span><br><span class="line">      2 system thread 26606  0x7b0030d8 in __ksleep () \</span><br><span class="line">                               from /usr/lib/libc.2</span><br><span class="line">      1 system thread 27905  0x7b003498 in _brk () \</span><br><span class="line">                               from /usr/lib/libc.2</span><br></pre></td></tr></table></figure>

<p>On Solaris, you can display more information about user threads with a Solaris-specific command:</p>
<ul>
<li><p><code>maint info sol-threads</code></p>
<p>Display info on Solaris user threads.</p>
</li>
<li><p><code>thread threadno</code></p>
<p>Make thread number threadno the current thread. The command argument threadno is the internal GDB thread number, as shown in the first field of the <code>info threads&#39; display. GDB responds by displaying the system identifier of the thread you selected, and its current stack frame summary:</code>(gdb) thread 2 [Switching to process 35 thread 23] 0x34e5 in sigpause () <code>As with the </code>[New …]’ message, the form of the text after &#96;Switching to’ depends on your system’s conventions for identifying threads.</p>
</li>
<li><p><code>thread apply [threadno] [all] args</code></p>
<p>The <code>thread apply</code> command allows you to apply a command to one or more threads. Specify the numbers of the threads that you want affected with the command argument threadno. threadno is the internal GDB thread number, as shown in the first field of the <code>info threads&#39; display. To apply a command to all threads, use </code>thread apply all&#96; args.</p>
</li>
</ul>
<p>Whenever GDB stops your program, due to a breakpoint or a signal, it automatically selects the thread where that breakpoint or signal happened. GDB alerts you to the context switch with a message of the form &#96;[Switching to systag]’ to identify the thread.</p>
<p>See section <a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/DeveloperTools/gdb/gdb/gdb_6.html#SEC43">Stopping and starting multi-thread programs</a>, for more information about how GDB behaves when you stop and start programs with multiple threads.</p>
<p>See section <a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/DeveloperTools/gdb/gdb/gdb_6.html#SEC32">Setting watchpoints</a>, for information about watchpoints in programs with multiple threads.</p>
<h2 id="Debugging-programs-with-multiple-processes"><a href="#Debugging-programs-with-multiple-processes" class="headerlink" title="Debugging programs with multiple processes"></a><a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/DeveloperTools/gdb/gdb/gdb_toc.html#TOC28">Debugging programs with multiple processes</a></h2><p>On most systems, GDB has no special support for debugging programs which create additional processes using the <code>fork</code> function. When a program forks, GDB will continue to debug the parent process and the child process will run unimpeded. If you have set a breakpoint in any code which the child then executes, the child will get a <code>SIGTRAP</code> signal which (unless it catches the signal) will cause it to terminate.</p>
<p>However, if you want to debug the child process there is a workaround which isn’t too painful. Put a call to <code>sleep</code> in the code which the child process executes after the fork. It may be useful to sleep only if a certain environment variable is set, or a certain file exists, so that the delay need not occur when you don’t want to run GDB on the child. While the child is sleeping, use the <code>ps</code> program to get its process ID. Then tell GDB (a new invocation of GDB if you are also debugging the parent process) to attach to the child process (see section <a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/DeveloperTools/gdb/gdb/gdb_5.html#SEC25">Debugging an already-running process</a>). From that point on you can debug the child process just like any other process which you attached to.</p>
<p>On some systems, GDB provides support for debugging programs that create additional processes using the <code>fork</code> or <code>vfork</code> functions. Currently, the only platforms with this feature are HP-UX (11.x and later only?) and GNU&#x2F;Linux (kernel version 2.5.60 and later).</p>
<p>By default, when a program forks, GDB will continue to debug the parent process and the child process will run unimpeded.</p>
<p>If you want to follow the child process instead of the parent process, use the command <code>set follow-fork-mode</code>.</p>
<ul>
<li><p><code>set follow-fork-mode mode</code></p>
<p>Set the debugger response to a program call of <code>fork</code> or <code>vfork</code>. A call to <code>fork</code> or <code>vfork</code> creates a new process. The mode argument can be:<code>parent</code>The original process is debugged after a fork. The child process runs unimpeded. This is the default.<code>child</code>The new process is debugged after a fork. The parent process runs unimpeded.</p>
</li>
<li><p><code>show follow-fork-mode</code></p>
<p>Display the current debugger response to a <code>fork</code> or <code>vfork</code> call.</p>
</li>
</ul>
<p>If you ask to debug a child process and a <code>vfork</code> is followed by an <code>exec</code>, GDB executes the new target up to the first breakpoint in the new target. If you have a breakpoint set on <code>main</code> in your original program, the breakpoint will also be set on the child process’s <code>main</code>.</p>
<p>When a child process is spawned by <code>vfork</code>, you cannot debug the child or parent until an <code>exec</code> call completes.</p>
<p>If you issue a <code>run</code> command to GDB after an <code>exec</code> call executes, the new target restarts. To restart the parent process, use the <code>file</code> command with the parent executable name as its argument.</p>
<p>You can use the <code>catch</code> command to make GDB stop whenever a <code>fork</code>, <code>vfork</code>, or <code>exec</code> call is made. See section <a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/DeveloperTools/gdb/gdb/gdb_6.html#SEC33">Setting catchpoints</a>.</p>

        </div>
        <footer class="article-footer">
            



    <a data-url="http://yoursite.com/2020/07/20/GDB/gdb/" data-id="clhddz2wv003wawue0xyuaczq" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>


                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="twitter" href="../../../../../index.html" target="_blank">
                        <i class="icon fa fa-twitter"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="facebook" href="../../../../../index.html" target="_blank">
                        <i class="icon fa fa-facebook"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="google-plus" href="../../../../../index.html" target="_blank">
                        <i class="icon fa fa-google-plus"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/TimeFunny" target="_blank">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="weibo" href="../../../../../index.html" target="_blank">
                        <i class="icon fa fa-weibo"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="../../../../../index.html" target="_blank">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="youtube" href="../../../../../index.html" target="_blank">
                        <i class="icon fa fa-youtube"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="../../../../../2021/03/28/Cpp/cpp-vector/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">newer</strong>
        <p class="article-nav-title">
        
            vector memory layout
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="../../../17/Linux/Process-Id/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">older</strong>
        <p class="article-nav-title">Process Id</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                
    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="../../../../../2023/05/07/entropy/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="../../../../../2023/05/07/entropy/" class="title">Entropy</a></p>
                            <p class="item-date"><time datetime="2023-05-07T09:49:24.075Z" itemprop="datePublished">2023-05-07</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="../../../../../2022/02/13/GDB/gdb-source-file/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="../../../../../categories/GDB-Tool/">GDB Tool</a></p>
                            <p class="item-title"><a href="../../../../../2022/02/13/GDB/gdb-source-file/" class="title">gdb-source-file</a></p>
                            <p class="item-date"><time datetime="2022-02-13T15:35:29.000Z" itemprop="datePublished">2022-02-13</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="../../../../../2022/02/13/otn/Optical-Networking/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="../../../../../categories/OTN/">OTN</a></p>
                            <p class="item-title"><a href="../../../../../2022/02/13/otn/Optical-Networking/" class="title">Optical-Networking</a></p>
                            <p class="item-date"><time datetime="2022-02-13T09:35:59.000Z" itemprop="datePublished">2022-02-13</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="../../../../../2022/02/08/otn/optical-transceivers/" class="thumbnail">
    
    
        <span style="background-image:url(/images/optical-transceivers.png)" alt="optical-transceivers" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="../../../../../categories/OTN/">OTN</a></p>
                            <p class="item-title"><a href="../../../../../2022/02/08/otn/optical-transceivers/" class="title">optical-transceivers</a></p>
                            <p class="item-date"><time datetime="2022-02-08T15:21:09.000Z" itemprop="datePublished">2022-02-08</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="../../../../../2022/02/08/otn/SingleCarrier-Multicarrier/" class="thumbnail">
    
    
        <span style="background-image:url(/images/single-carrier-for-400g-otn.png)" alt="SingleCarrier-Multicarrier" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="../../../../../categories/OTN/">OTN</a></p>
                            <p class="item-title"><a href="../../../../../2022/02/08/otn/SingleCarrier-Multicarrier/" class="title">SingleCarrier-Multicarrier</a></p>
                            <p class="item-date"><time datetime="2022-02-08T08:06:40.000Z" itemprop="datePublished">2022-02-08</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="../../../../../categories/Cpp/">Cpp</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="../../../../../categories/GDB-Tool/">GDB Tool</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="../../../../../categories/Linux/">Linux</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="../../../../../categories/OTN/">OTN</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="../../../../../categories/Programming/">Programming</a><span class="category-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2023/05/">May 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2022/02/">February 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2022/01/">January 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2021/04/">April 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2021/03/">March 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2020/07/">July 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2019/11/">November 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/2019/08/">August 2019</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="../../../../../archives/202/03/">March 0202</a><span class="archive-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="../../../../../tags/Basic/" style="font-size: 10px;">Basic</a> <a href="../../../../../tags/Data-Science/" style="font-size: 10px;">Data Science</a> <a href="../../../../../tags/Data-Structure/" style="font-size: 10px;">Data Structure</a> <a href="../../../../../tags/Entropy/" style="font-size: 10px;">Entropy</a> <a href="../../../../../tags/Hash/" style="font-size: 10px;">Hash</a> <a href="../../../../../tags/Invoke-GDB/" style="font-size: 10px;">Invoke GDB</a> <a href="../../../../../tags/Jupyter-Notebook/" style="font-size: 10px;">Jupyter Notebook</a> <a href="../../../../../tags/Linux/" style="font-size: 10px;">Linux</a> <a href="../../../../../tags/Machine-Learning/" style="font-size: 10px;">Machine Learning</a> <a href="../../../../../tags/Network-command/" style="font-size: 10px;">Network command</a> <a href="../../../../../tags/Optical-NetWorking/" style="font-size: 10px;">Optical NetWorking</a> <a href="../../../../../tags/check-process-id/" style="font-size: 10px;">check process id</a> <a href="../../../../../tags/conda/" style="font-size: 10px;">conda</a> <a href="../../../../../tags/cuda/" style="font-size: 10px;">cuda</a> <a href="../../../../../tags/docker/" style="font-size: 10px;">docker</a> <a href="../../../../../tags/flex-Grid-spectrum-allocation/" style="font-size: 10px;">flex Grid spectrum allocation</a> <a href="../../../../../tags/git/" style="font-size: 10px;">git</a> <a href="../../../../../tags/grey-optics-and-colored-optics/" style="font-size: 10px;">grey optics and colored optics</a> <a href="../../../../../tags/learn-Website/" style="font-size: 10px;">learn-Website</a> <a href="../../../../../tags/list-memory-layout/" style="font-size: 10px;">list memory layout</a> <a href="../../../../../tags/machine-learning/" style="font-size: 10px;">machine learning</a> <a href="../../../../../tags/map-memory-layout/" style="font-size: 10px;">map memory layout</a> <a href="../../../../../tags/modules/" style="font-size: 10px;">modules</a> <a href="../../../../../tags/oadm/" style="font-size: 10px;">oadm</a> <a href="../../../../../tags/packages/" style="font-size: 10px;">packages</a> <a href="../../../../../tags/pip/" style="font-size: 10px;">pip</a> <a href="../../../../../tags/protocol-buffer/" style="font-size: 10px;">protocol buffer</a> <a href="../../../../../tags/python/" style="font-size: 20px;">python</a> <a href="../../../../../tags/rsync/" style="font-size: 10px;">rsync</a> <a href="../../../../../tags/shared-ptr-memory-layout/" style="font-size: 10px;">shared_ptr memory layout</a> <a href="../../../../../tags/shell/" style="font-size: 15px;">shell</a> <a href="../../../../../tags/single-carrier-and-multi-carrier/" style="font-size: 10px;">single carrier and multi-carrier</a> <a href="../../../../../tags/source-file-in-GDB/" style="font-size: 10px;">source file in GDB</a> <a href="../../../../../tags/ssh/" style="font-size: 10px;">ssh</a> <a href="../../../../../tags/string-memory-layout/" style="font-size: 10px;">string memory layout</a> <a href="../../../../../tags/tuple-memory-layout/" style="font-size: 10px;">tuple memory layout</a> <a href="../../../../../tags/vector-memory-layout/" style="font-size: 10px;">vector memory layout</a> <a href="../../../../../tags/virtualenv/" style="font-size: 10px;">virtualenv</a> <a href="../../../../../tags/wavelength-bands/" style="font-size: 10px;">wavelength bands</a> <a href="../../../../../tags/windows/" style="font-size: 10px;">windows</a> <a href="../../../../../tags/wsl/" style="font-size: 10px;">wsl</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>
                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="../../../../../index.html" class="logo"></a>
                </h1>
                <p>&copy; 2023 YANG Tao</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_shortname = 'hexo-theme-hueman';
    
    
    var disqus_url = 'http://yoursite.com/2020/07/20/GDB/gdb/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        
<script src="../../../../../libs/lightgallery/js/lightgallery.min.js"></script>

        
<script src="../../../../../libs/lightgallery/js/lg-thumbnail.min.js"></script>

        
<script src="../../../../../libs/lightgallery/js/lg-pager.min.js"></script>

        
<script src="../../../../../libs/lightgallery/js/lg-autoplay.min.js"></script>

        
<script src="../../../../../libs/lightgallery/js/lg-fullscreen.min.js"></script>

        
<script src="../../../../../libs/lightgallery/js/lg-zoom.min.js"></script>

        
<script src="../../../../../libs/lightgallery/js/lg-hash.min.js"></script>

        
<script src="../../../../../libs/lightgallery/js/lg-share.min.js"></script>

        
<script src="../../../../../libs/lightgallery/js/lg-video.min.js"></script>

    
    
        
<script src="../../../../../libs/justified-gallery/jquery.justifiedGallery.min.js"></script>

    
    



<!-- Custom Scripts -->

<script src="../../../../../js/main.js"></script>


    </div>
</body>
</html>
